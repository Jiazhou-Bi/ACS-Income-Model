---
title: "Counts of Crimes and Their Subtypes in Toronto from 2014 to 2023"
subtitle: "Details and Trends"
author: 
  - Justin (Jiazhou) Bi
thanks: "Inspired and instructed by: https://github.com/RohanAlexander/marriage. All the project related files can be found at: https://github.com/Jiazhou-Bi/reported-crime/tree/master."
date: Sept. 23, 2024
date-format: long
abstract: "This report analyzes crime trends and subtypes in Toronto from 2014 to 2023, highlighting fluctuations and speculating possible socio-economic, technological, and pandemic-related factors influencing criminal activity. Using data from Toronto Open Data, the study aggregates and examines reported crimes in categories such as property crimes, violent offenses, and cybercrime. The results show a significant increase in reported crimes, from 113,426 in 2014 to 169,620 in 2023. A notable drop in crime during 2020 and 2021 corresponds with COVID-19 lockdowns, which reduced certain physical crimes while increasing cybercrimes like fraud. Despite the overall rise in crime, clearance rates for crimes like fraud and theft significantly declined, underscoring challenges for law enforcement."
format: pdf
jupyter: python3 
number-sections: true
bibliography: references.bib
---

# Introduction

Crime is defined as "an action or omission which constitutes an offense and is punishable by law." (@TheOxfordDictionary_1992) However, this seemingly straightforward definition can misguide us to think that crime is a simple and clear concept with specific defining criteria, a swift process of judgment, and pre-defined punishment. Crime is a complete concept that affects every aspect of all individuals, communities, and societies. Crimes can reshape the power dynamics of our social structure, influence our public policies, and even change our day-to-day interactions with others. As a result, understanding the trends in crimes and the variations in their subtypes is crucial for policymakers, law enforcement, and every member of our society to devise better strategies to prevent crimes from happening. Therefore, this report aims to explore and examine the current of reported crimes in Toronto from 2014 to 2023, discover and highlight some fluctuations, and propose some potential underlying factors that might have contributed to these trends. The raw data being used in the report is available from Toronto Open Data. (@TorontoOpenData) For the data analysis, I have used pandas (@pandas). For data visualization, I have used Seaborn. (@seaborn) All the tables were generated by using Plotly. (@plotly)

This analysis can be helpful by providing valuable insights into current crime activity trends. Certain crimes, such as violent offenses, theft, and property crimes, are believed to be highly correlated with broader socio-economic conditions. (@lofstrom2016crime) Meanwhile, with new technology emerging, other types of criminal activity, such as technology-facilitated fraud, are becoming more prominent. According to RCMP's report, Canadian victims have lost 530 million dollars due to fraud. Thus, examining various types of crime can assist us to better understand these crimes and devise better strategies to better protect our safety and properties.

On the other hand, between 2014 and 2023, the world experienced significant transformations that may impact crime rates. In particular, the COVID-19 pandemic, which began in 2020 and ended in early 2022, has disrupted our daily routines and led to shifts in criminal behaviour. Lockdowns and other public health measures reduced opportunities for certain types of crime, such as burglaries and public disturbances, while simultaneously leading to increases in domestic violence and cybercrime. Additionally, economic hardship caused by the pandemic, including rising unemployment rates and financial instability, may have driven a surge in financially motivated crimes, such as fraud and theft.

This report will delve into crime statistics from 2014 to 2023 in Toronto. I will closely examine all the reported crime categories and specific subtypes of crimes. By analyzing these trends, I aim to clarify how crime has evolved over the last decade and identify possible socio-economic, technological, and legal factors that have driven these changes. Through this analysis, we can gain valuable insights into how best to address the challenges posed by both traditional and emerging forms of crime in the future.

# Data

The dataset used here is downloaded from the Toronto Open Data website via @TorontoOpenData. This dataset contains all the reported crimes that happened in Toronto from 2014 to 2023. This dataset is grouped by the year of the reported crime, its category and belonging subtype, and the count of the subtype being reported and cleared for that year for each division. Because I am examining the crime pattern in the city, I have dropped the division information and aggregated the existing data according to their subtype and the year of the crime being reported. In the following subsections, I will review all the variables used in this report and provide some basic descriptive statistics. The first five rows of the cleaned data used for analysis are attached (@tbl-table1).

```{python}
#| label: tbl-table1
#| tbl-cap: Example of Cleaned Data
#| warning: false
#| echo: false

import pandas as pd
data = pd.read_csv('../data/analysis_data/analysis_data.csv', index_col=False)
data.index = data.index + 1
data.head()
# styled_data = data.head().style.format({'ClearRate': "{:.2f}"}).hide().set_table_styles([{"selector":"th.col_heading,td","props":[("width","100px")]}])
# styled_data
#data.values[:5]
#print(data.head().to_string(index=False))

```

## Report Year
The report year variable is the number of crimes being reported. In this dataset, the data spans from 2014 to 2023, encompassing ten years. No month or date information was given; thus, there are only ten different values for this variable in chronological order.

## Category
The category includes information about the nature of the crime. There are six crime categories: Crimes Against Property, Crimes Against the Person, Other Federal Statute Violations, Other Criminal Code Violations, Controlled Drugs and Substances Act, and Criminal Code Traffic. They are listed in the table below (@tbl-table2).

```{python}

#| echo: false
#| label: tbl-table2
#| warning: false
#| tbl-cap: Six Crime Categories
import pandas as pd
import plotly.graph_objects as go
data = pd.read_csv('../data/analysis_data/analysis_data.csv')
unique_category = data.Category.unique()
category_df = pd.DataFrame(unique_category, columns=['Categories'])
category_df.index = category_df.index + 1
category_df
```

## Subtype
There exist multiple subtypes under each crime category. The following is an exhaustive table (@tbl-table3) of all crimes' subtypes and their respective category.

```{python}
#| echo: false
#| label: tbl-table3
#| warning: false
#| tbl-cap: Crime Categories and Subtypes
import pandas as pd
data = pd.read_csv('../data/analysis_data/analysis_data.csv')
unique_category_subtype_data = data.drop_duplicates(subset=['Category', 'Subtype'])
unique_category_subtype_df = unique_category_subtype_data[['Category', 'Subtype']]
unique_category_subtype_df = unique_category_subtype_df.sort_values(by=['Category','Subtype'],ascending=True)
unique_category_subtype_df.reset_index(drop=True, inplace=True)
unique_category_subtype_df.index = unique_category_subtype_df.index + 1
unique_category_subtype_df
```

## Count
In the original table, this value is grouped by the subtype of the crime, the division, and the year when the crime was reported. The original count indicates the number of a specific subtype of crime reported within a particular division for the year. However, as mentioned before, because I am only interested in all the crimes in the City of Toronto, I have dropped the division information and aggregated the count from all the divisions to a single value. Therefore, for each subtype of the crimes, a total count of that subtype is reported in a single year.

## Count_Cleared
These are the counts of crimes identified as cleared. In plain words, these are crimes that are dealt/solved. I have taken the same approach for this column as the previous one. After cleaning the data,f, or each subtype of the crimes, there is a total count of that subtype being reported that is also cleared in a single year.

## Case_Clearing_Rate
This column was not included in the raw dataset but was created by dividing the cleared crimes by total crimes. A higher case-clearing rate for a particular subtype of crime usually suggests a higher effectiveness of law enforcement in dealing with this subtype of crime. The value is ranged from 0 to 100%.

# Model

Our modeling strategy aims to explore the relationship between occupation, age, gender, education, and income. To achieve this, we implemented three models: Linear Regression with Interaction Terms, Random Forest, and XGBoost, each selected based on their specific strengths for predictive accuracy and interpretability.

## Linear Regression Model with Interaction Term


## Random Forest 


## XGBoost



# Results



# Discussion



## Weaknesses and next steps


\newpage

# Appendix

## Data cleaning

## Model Details

# References


